export default function UserTask(lf) {
  lf.register("UserTask", ({ RectNode, RectNodeModel, h }) => {
    class View extends RectNode {
      getIconShape() {
        const { x, y, width, height } = this.getAttributes();

        const stroke = "#2593fc";
        return h("g", {}, [
          h(
            "svg",
            {
              fill: stroke,
              x: x - width / 1.4,
              y: y - height / 1.4,
              width: 42,
              height: 42,
              viewBox: "0 0 1274 1024"
            },
            h("path", {
              fill: stroke,
              d:
                "M794.019672 360.918033c0-55.396721 5.036066-97.363934 58.754098-124.222951 11.75082-5.036066 36.931148-8.393443 47.003279-8.393443 13.429508 0 0-11.75082 30.216394-11.750819s68.82623 13.429508 88.970491 52.039344 21.822951 83.934426 21.822951 94.006557c0 11.75082 11.75082 5.036066 11.75082 21.822951s-5.036066 47.003279-21.822951 67.147541c-16.786885 21.822951-21.822951 25.180328-33.57377 41.967213s-16.786885 33.57377-16.786886 47.003279c0 52.039344 88.970492 55.396721 141.009836 88.970492 20.144262 13.429508 33.57377 30.216393 41.967214 50.360655s-3.357377 38.609836-20.144263 43.645902c-3.357377 3.357377-8.393443 3.357377-13.429508 3.357377H703.370492c-20.144262 0-36.931148-16.786885-36.931148-36.931147 0-5.036066 0-8.393443 3.357377-13.429509 8.393443-20.144262 21.822951-36.931148 41.967213-50.360655 52.039344-33.57377 141.009836-36.931148 141.009836-88.970492 0-13.429508-5.036066-30.216393-16.786885-47.003279s-16.786885-21.822951-33.57377-41.967213c-16.786885-21.822951-21.822951-52.039344-21.822951-67.147541 0-11.75082 13.429508-8.393443 13.429508-20.144262z"
            })
          )
        ]);
      }
      getShape() {
        const style = this.getShapeStyle();

        const { width, height } = style;
        const { x, y } = this.getAttributes();
        const position = {
          x: x - width / 2,
          y: y - height / 2,
          cx: 0,
          cy: 0,
          rx: 4,
          ry: 4,
          fill: "#e7f2fc",
          stroke: "#2593fc"
        };

        return h("g", {}, [
          h("rect", {
            ...style,
            ...position
          }),
          this.getIconShape()
        ]);
      }
    }
    class Model extends RectNodeModel {
      constructor(data, graphModel) {
        super(data, graphModel);
      }
    }

    return {
      view: View,
      model: Model
    };
  });
}
